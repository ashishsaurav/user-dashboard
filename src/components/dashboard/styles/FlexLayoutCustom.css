/* FlexLayout Custom Styles */

.flex-layout-container {
  width: 100%;
  height: 100%;
  position: relative;
}

/* Override FlexLayout default colors to match our theme */
.flexlayout__layout {
  background: var(--bg-primary) !important;
}

.flexlayout__splitter {
  background: var(--border-color) !important;
  opacity: 1 !important;
  width: 1px !important; /* Thin splitter */
}

.flexlayout__splitter:hover {
  background: var(--primary-color) !important;
}

.flexlayout__tabset {
  background: transparent !important;
  border: 1px solid var(--border-color) !important; /* Single line border */
}

.flexlayout__tabset_header {
  background: var(--bg-secondary) !important;
  border-bottom: 1px solid var(--border-color) !important;
  min-height: 36px !important;
  height: 36px !important;
  padding: 0 8px !important; /* Minimal padding */
}

.flexlayout__tab {
  display: none !important; /* Hide tab buttons since we only use toolbar */
}

.flexlayout__tab_button {
  color: var(--text-primary) !important;
  font-size: 14px !important;
  font-weight: 500 !important;
}

.flexlayout__tab_button:hover {
  color: var(--primary-color) !important;
}

.flexlayout__tab_button--selected {
  background: var(--bg-primary) !important;
  color: var(--primary-color) !important;
  border-bottom-color: var(--bg-primary) !important;
}

.flexlayout__tab_button_trailing {
  color: var(--text-muted) !important;
}

.flexlayout__tab_button_trailing:hover {
  color: var(--danger-color) !important;
  background: rgba(220, 38, 38, 0.1) !important;
}

.flexlayout__tabset_tabbar_outer {
  background: var(--bg-secondary) !important;
}

.flexlayout__tabset_tabbar_inner {
  background: transparent !important;
}

.flexlayout__tabset_content {
  background: var(--bg-primary) !important;
  overflow: auto !important;
  padding: 0 !important; /* No padding in content area */
}

.flexlayout__tab_toolbar {
  display: none !important; /* Hide default toolbar buttons */
}

/* Floating windows */
.flexlayout__floating_window {
  background: var(--bg-primary) !important;
  border: 1px solid var(--border-color) !important;
  box-shadow: var(--shadow-lg) !important;
}

.flexlayout__floating_window_tab {
  background: var(--bg-secondary) !important;
  color: var(--text-primary) !important;
}

/* Edge indicators (for drag & drop) */
.flexlayout__edge_rect {
  background: rgba(79, 70, 229, 0.2) !important;
  border: 2px solid var(--primary-color) !important;
}

.flexlayout__edge_rect_show {
  background: rgba(79, 70, 229, 0.4) !important;
}

/* Tab drag */
.flexlayout__tab_button--dragging {
  opacity: 0.5 !important;
}

.flexlayout__drag_rect {
  background: var(--bg-primary) !important;
  border: 2px solid var(--primary-color) !important;
  box-shadow: var(--shadow-md) !important;
  opacity: 0.8 !important;
}

/* Splitter styling */
.flexlayout__splitter_border {
  background: var(--border-color) !important;
}

.flexlayout__splitter_extra {
  background: transparent !important;
}

/* Dark theme overrides */
[data-theme="dark"] .flexlayout__layout {
  background: #0f172a !important;
}

[data-theme="dark"] .flexlayout__tabset {
  background: #1e293b !important;
}

[data-theme="dark"] .flexlayout__tabset_header {
  background: #1e293b !important;
  border-bottom-color: #334155 !important;
}

[data-theme="dark"] .flexlayout__tab {
  background: #334155 !important;
  border-color: #475569 !important;
}

[data-theme="dark"] .flexlayout__tab_button--selected {
  background: #0f172a !important;
  color: #818cf8 !important;
}

[data-theme="dark"] .flexlayout__tabset_content {
  background: #0f172a !important;
}

[data-theme="dark"] .flexlayout__splitter {
  background: #334155 !important;
}

[data-theme="dark"] .flexlayout__splitter:hover {
  background: #818cf8 !important;
}

/* Custom toolbar buttons integration */
.flexlayout__tab_toolbar_button {
  width: 28px !important;
  height: 28px !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 4px !important;
  background: transparent !important;
  color: var(--text-secondary) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  margin: 0 2px !important;
  padding: 0 !important;
}

.flexlayout__tab_toolbar_button:hover {
  background: var(--bg-quaternary) !important;
  color: var(--primary-color) !important;
  border-color: var(--primary-hover) !important;
}

.flexlayout__tab_toolbar_button svg {
  width: 14px !important;
  height: 14px !important;
}

/* Maximize button styling */
.flexlayout__tab_button_maximize {
  margin-left: auto !important;
}

/* Popup menu (context menu) */
.flexlayout__popup_menu {
  background: var(--bg-primary) !important;
  border: 1px solid var(--border-color) !important;
  box-shadow: var(--shadow-lg) !important;
  border-radius: 6px !important;
  padding: 4px !important;
}

.flexlayout__popup_menu_item {
  color: var(--text-primary) !important;
  padding: 8px 16px !important;
  cursor: pointer !important;
  border-radius: 4px !important;
  transition: all 0.2s ease !important;
}

.flexlayout__popup_menu_item:hover {
  background: var(--bg-tertiary) !important;
  color: var(--primary-color) !important;
}

/* Border tabs (side panels) */
.flexlayout__border {
  background: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
}

.flexlayout__border_button {
  background: var(--bg-tertiary) !important;
  border-color: var(--border-color) !important;
  color: var(--text-primary) !important;
}

.flexlayout__border_button--selected {
  background: var(--bg-primary) !important;
  color: var(--primary-color) !important;
}

/* Remove default outline on focus */
.flexlayout__tab_button:focus,
.flexlayout__tab_toolbar_button:focus,
.flexlayout__border_button:focus {
  outline: 2px solid var(--primary-color) !important;
  outline-offset: 2px !important;
}

/* Animations */
.flexlayout__tab {
  transition: all 0.2s ease !important;
}

.flexlayout__splitter {
  transition: background 0.2s ease !important;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .flexlayout__tab {
    padding: 6px 12px !important;
    font-size: 13px !important;
  }

  .flexlayout__tab_toolbar_button {
    width: 24px !important;
    height: 24px !important;
  }
}

/* Fix for navigation panel collapse */
.flexlayout__tabset[data-layout-path*="/0"] {
  transition: all 0.3s ease !important;
}

.flexlayout__tabset[data-collapsed="true"] {
  max-height: 60px !important;
}
